package kmodel

import (
	"database/sql"
)

///////////////////////////////////////////////////////////////////////////////////

// Model ...
type Model interface {
	CRUD
	NewObjectCollection(newObject func() ObjectModel) ObjectCollection
}

///////////////////////////////////////////////////////////////////////////////////

// NewModel ...
func NewModel(db *sql.DB) Model {
	m := new(model)
	m.DB = db
	return m
}

///////////////////////////////////////////////////////////////////////////////////

// ObjectModel ...
type ObjectModel interface {
	TableName() string

	AutoPKey() bool
	PkeyName() string
	PkeyValue() interface{}
	PkeyPointer() interface{}

	ColumnNames() []string
	ColumnValues() []interface{}
	ColumnPointers() []interface{}
}

///////////////////////////////////////////////////////////////////////////////////

type model struct {
	DB *sql.DB
}

///////////////////////////////////////////////////////////////////////////////////
